# SDN Server Configuration
# Define servers by type and region for deployment

# SSH settings
ssh:
  user: root
  key_path: ~/.ssh/sdn_deploy_key
  port: 22

# Docker registry (optional, for pre-built images)
registry:
  url: ghcr.io/digitalarsenal/sdn
  # url: your-registry.example.com/sdn

# Full nodes - datacenter locations with storage
full_nodes:
  - ip: 203.0.113.10
    region: us-east-1
    name: full-us-east
    ports:
      tcp: 4001
      ws: 8080
      quic: 4001

  - ip: 203.0.113.11
    region: eu-west-1
    name: full-eu-west
    ports:
      tcp: 4001
      ws: 8080
      quic: 4001

  - ip: 203.0.113.12
    region: ap-northeast-1
    name: full-asia-tokyo
    ports:
      tcp: 4001
      ws: 8080
      quic: 4001

# Edge relays - lightweight relay nodes at edge locations
edge_relays:
  - ip: 209.182.234.97
    region: asia-tokyo
    name: edge-tokyo-1
    port: 8080
    max_conns: 500

  - ip: 198.51.100.20
    region: us-west-2
    name: edge-us-west
    port: 8080
    max_conns: 500

  - ip: 198.51.100.21
    region: eu-central-1
    name: edge-eu-central
    port: 8080
    max_conns: 500

  - ip: 198.51.100.22
    region: sa-east-1
    name: edge-sa-east
    port: 8080
    max_conns: 300

  - ip: 198.51.100.23
    region: af-south-1
    name: edge-africa
    port: 8080
    max_conns: 300

# Registry builders - DHT monitors that rebuild WASM
registry_builders:
  - ip: 203.0.113.50
    region: us-east-1
    name: registry-primary
    poll_interval: 5m
    cdn_endpoints:
      - s3://sdn-cdn/edge-relays.wasm
      - https://cdn.spacedatanetwork.org/

# Bootstrap nodes (subset of full nodes used for initial connection)
bootstrap:
  - /ip4/203.0.113.10/tcp/4001/p2p/PEER_ID_HERE
  - /ip4/203.0.113.11/tcp/4001/p2p/PEER_ID_HERE
  - /dnsaddr/bootstrap.spacedatanetwork.org
