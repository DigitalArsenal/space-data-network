<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Space Data Network - Decentralized peer-to-peer infrastructure for global space situational awareness. Built on IPFS with 32 Space Data Standards.">
  <meta name="theme-color" content="#000000">
  <meta property="og:title" content="Space Data Network">
  <meta property="og:description" content="Open infrastructure for global collaboration on space situational awareness">
  <meta property="og:type" content="website">
  <title>Space Data Network</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='none' stroke='%23fff' stroke-width='4'/><ellipse cx='50' cy='50' rx='45' ry='18' fill='none' stroke='%23fff' stroke-width='2'/><ellipse cx='50' cy='50' rx='45' ry='18' fill='none' stroke='%23fff' stroke-width='2' transform='rotate(60 50 50)'/><ellipse cx='50' cy='50' rx='45' ry='18' fill='none' stroke='%23fff' stroke-width='2' transform='rotate(120 50 50)'/><circle cx='50' cy='50' r='8' fill='%23fff'/></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    /* ============================================
       CSS VARIABLES & RESET
       ============================================ */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg: #000000;
      --text-primary: #F5F5F7;
      --text-secondary: rgba(255, 255, 255, 0.8);
      --text-muted: rgba(134, 134, 139, 1.0);
      --ui-bg: rgba(42, 42, 45, 0.72);
      --ui-hover: rgba(66, 66, 69, 0.72);
      --ui-border: rgba(134, 134, 139, 0.3);
      --ui-border-hover: rgba(134, 134, 139, 0.5);
      --nav-bg: rgba(22, 22, 23, 0.95);
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
      --radius: 28px;
      --radius-sm: 16px;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ============================================
       VIDEO BACKGROUND
       ============================================ */
    .page-video-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .page-video-bg.loaded {
      opacity: 0.4;
    }

    .page-video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: -1;
    }

    /* ============================================
       NAVIGATION
       ============================================ */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 44px;
      z-index: 9999;
      background: var(--nav-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-content {
      max-width: 1200px;
      margin: 0 auto;
      height: 100%;
      padding: 0 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      font-size: 15px;
      color: var(--text-primary);
      white-space: nowrap;
      flex-shrink: 0;
    }

    .logo svg {
      width: 22px;
      height: 22px;
      flex-shrink: 0;
    }

    .logo-text {
      display: inline;
    }

    .nav-links {
      display: flex;
      gap: 28px;
    }

    /* Mobile Menu */
    .mobile-menu {
      display: none;
      position: fixed;
      top: 44px;
      left: 0;
      right: 0;
      background: var(--nav-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 16px 24px;
      z-index: 9998;
      flex-direction: column;
      gap: 16px;
    }

    .mobile-menu.open {
      display: flex;
    }

    .mobile-menu a {
      color: var(--text-secondary);
      font-size: 16px;
      font-weight: 500;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .mobile-menu a:last-child {
      border-bottom: none;
    }

    .mobile-menu a:hover {
      color: var(--text-primary);
    }

    .nav-links a {
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-links a:hover {
      color: var(--text-primary);
    }

    .nav-cta {
      padding: 8px 18px;
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      font-size: 13px;
      font-weight: 600;
      color: var(--text-primary);
      backdrop-filter: blur(10px);
      transition: all 0.2s;
    }

    .nav-cta:hover {
      background: var(--ui-hover);
      border-color: var(--ui-border-hover);
    }

    .nav-menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      cursor: pointer;
      padding: 8px;
    }

    /* ============================================
       BUTTONS
       ============================================ */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 16px 32px;
      font-size: 17px;
      font-weight: 600;
      border-radius: var(--radius);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      transition: all 0.2s ease;
      cursor: pointer;
      border: 1px solid var(--ui-border);
      text-decoration: none;
    }

    .btn-primary {
      background: var(--ui-bg);
      color: var(--text-primary);
    }

    .btn-primary:hover {
      background: var(--ui-hover);
      border-color: var(--ui-border-hover);
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-primary);
    }

    .btn-secondary:hover {
      background: var(--ui-bg);
    }

    .btn-sm {
      padding: 10px 20px;
      font-size: 14px;
    }

    /* ============================================
       HERO SECTION
       ============================================ */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 120px 24px 80px;
      position: relative;
    }

    .hero-title {
      font-size: 80px;
      font-weight: 600;
      line-height: 1.05;
      letter-spacing: -0.03em;
      margin-bottom: 24px;
    }

    .hero-tagline {
      font-size: 26px;
      font-weight: 500;
      color: var(--text-secondary);
      max-width: 700px;
      margin-bottom: 16px;
    }

    .hero-subtitle {
      font-size: 20px;
      color: var(--text-muted);
      margin-bottom: 48px;
    }

    .hero-actions {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .scroll-indicator {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      animation: bounce 2s infinite;
    }

    .scroll-indicator svg {
      width: 28px;
      height: 28px;
      color: var(--text-muted);
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
      40% { transform: translateX(-50%) translateY(10px); }
      60% { transform: translateX(-50%) translateY(5px); }
    }

    /* ============================================
       SECTIONS
       ============================================ */
    section {
      padding: 140px 24px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 72px;
    }

    .section-title {
      font-size: 52px;
      font-weight: 600;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin-bottom: 20px;
    }

    .section-subtitle {
      font-size: 20px;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
    }

    /* ============================================
       FEATURES GRID
       ============================================ */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }

    .feature-card {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      padding: 32px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      background: var(--ui-hover);
      border-color: var(--ui-border-hover);
      transform: translateY(-4px);
    }

    .feature-icon {
      width: 52px;
      height: 52px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
    }

    .feature-icon svg {
      width: 26px;
      height: 26px;
      color: var(--text-primary);
    }

    .feature-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .feature-desc {
      font-size: 16px;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    /* ============================================
       STATS GRID
       ============================================ */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }

    .stat-card {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      padding: 40px 24px;
      text-align: center;
      backdrop-filter: blur(20px);
    }

    .stat-number {
      font-size: 56px;
      font-weight: 600;
      line-height: 1.1;
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 16px;
      color: var(--text-muted);
    }

    /* ============================================
       CODE BLOCKS
       ============================================ */
    .code-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
    }

    .code-block {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      overflow: hidden;
      backdrop-filter: blur(20px);
    }

    .code-header {
      padding: 14px 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .code-lang {
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .code-copy {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      border-radius: 8px;
      padding: 6px 12px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.2s;
    }

    .code-copy:hover {
      background: rgba(255, 255, 255, 0.15);
      color: var(--text-primary);
    }

    .code-block pre {
      margin: 0;
      padding: 20px;
      overflow-x: auto;
    }

    .code-block code {
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.7;
      color: var(--text-primary);
    }

    .code-comment { color: var(--text-muted); }
    .code-keyword { color: var(--text-primary); font-weight: 600; }
    .code-string { color: var(--text-secondary); }

    /* ============================================
       VISION / USE CASES
       ============================================ */
    .vision-intro {
      font-size: 22px;
      color: var(--text-secondary);
      text-align: center;
      max-width: 800px;
      margin: 0 auto 56px;
      line-height: 1.5;
    }

    .vision-intro strong {
      color: var(--text-primary);
    }

    .vision-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
      margin-bottom: 56px;
    }

    .vision-item {
      text-align: center;
      padding: 24px 12px;
    }

    .vision-item h4 {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .vision-item p {
      font-size: 14px;
      color: var(--text-muted);
      line-height: 1.4;
    }

    .vision-tagline {
      font-size: 26px;
      font-weight: 600;
      text-align: center;
    }

    /* ============================================
       ARCHITECTURE DIAGRAM
       ============================================ */
    .arch-diagram {
      max-width: 700px;
      margin: 0 auto 80px;
      text-align: center;
    }

    .arch-row {
      display: flex;
      justify-content: center;
    }

    .arch-box {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius-sm);
      padding: 20px 40px;
      backdrop-filter: blur(20px);
      min-width: 400px;
    }

    .arch-label {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .arch-items {
      font-size: 13px;
      color: var(--text-muted);
    }

    .arch-arrow {
      font-size: 20px;
      color: var(--text-muted);
      padding: 8px 0;
    }

    /* ============================================
       PKI DEMO
       ============================================ */
    .pki-demo {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      padding: 48px;
      backdrop-filter: blur(20px);
    }

    .pki-title {
      font-size: 28px;
      font-weight: 600;
      text-align: center;
      margin-bottom: 12px;
    }

    .pki-subtitle {
      font-size: 16px;
      color: var(--text-secondary);
      text-align: center;
      margin-bottom: 40px;
    }

    .pki-parties {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 40px;
      margin-bottom: 32px;
      flex-wrap: wrap;
    }

    .pki-party {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius-sm);
      padding: 24px;
      text-align: center;
      min-width: 200px;
    }

    .pki-avatar {
      width: 56px;
      height: 56px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
    }

    .pki-avatar svg {
      width: 32px;
      height: 32px;
      color: var(--text-primary);
    }

    .pki-name {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .pki-role {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 16px;
    }

    .pki-keys {
      text-align: left;
    }

    .pki-key {
      margin-bottom: 8px;
      font-size: 12px;
    }

    .pki-key .key-type {
      color: var(--text-muted);
      display: block;
      margin-bottom: 4px;
    }

    .pki-key code {
      font-family: var(--font-mono);
      font-size: 10px;
      color: var(--text-secondary);
      background: rgba(0, 0, 0, 0.3);
      padding: 4px 8px;
      border-radius: 4px;
      display: block;
      word-break: break-all;
      max-width: 180px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .pki-flow {
      display: flex;
      align-items: center;
      flex-direction: column;
    }

    .pki-flow-arrow {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .pki-flow-arrow svg {
      width: 100px;
      height: 24px;
      color: var(--text-muted);
    }

    .pki-flow-label {
      font-size: 12px;
      color: var(--text-muted);
      white-space: nowrap;
    }

    .pki-controls {
      text-align: center;
      margin-bottom: 32px;
    }

    .pki-message-area {
      background: rgba(0, 0, 0, 0.3);
      border-radius: var(--radius-sm);
      padding: 24px;
      margin-bottom: 32px;
    }

    .pki-input-group {
      margin-bottom: 20px;
    }

    .pki-input-group label,
    .pki-output-group label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .pki-input-group textarea {
      width: 100%;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid var(--ui-border);
      border-radius: 12px;
      padding: 16px;
      font-family: var(--font-mono);
      font-size: 14px;
      color: var(--text-primary);
      resize: vertical;
      min-height: 80px;
    }

    .pki-input-group textarea:focus {
      outline: none;
      border-color: var(--ui-border-hover);
    }

    .pki-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .pki-output-group {
      margin-bottom: 16px;
    }

    .pki-output-group:last-child {
      margin-bottom: 0;
    }

    .pki-output {
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid var(--ui-border);
      border-radius: 12px;
      padding: 16px;
      font-family: var(--font-mono);
      font-size: 13px;
      color: var(--text-muted);
      word-break: break-all;
      min-height: 48px;
    }

    .ecies-explainer {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 32px;
    }

    .ecies-explainer h4 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
    }

    .ecies-steps {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 16px;
    }

    .ecies-step {
      text-align: center;
    }

    .step-num {
      width: 32px;
      height: 32px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
      font-size: 14px;
      font-weight: 600;
    }

    .step-text {
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .step-text strong {
      color: var(--text-primary);
      display: block;
      margin-bottom: 4px;
    }

    @media (max-width: 1068px) {
      .ecies-steps {
        grid-template-columns: repeat(3, 1fr);
      }
      .arch-box {
        min-width: 300px;
      }
    }

    @media (max-width: 734px) {
      .pki-parties {
        flex-direction: column;
      }
      .pki-flow-arrow svg {
        transform: rotate(90deg);
      }
      .ecies-steps {
        grid-template-columns: 1fr;
      }
      .pki-demo {
        padding: 24px;
      }
      .arch-box {
        min-width: 100%;
        padding: 16px 20px;
      }
    }

    /* ============================================
       IDENTITY SECTION
       ============================================ */
    .identity-demo {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      padding: 48px;
      backdrop-filter: blur(20px);
    }

    .identity-methods {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 32px;
    }

    .identity-method {
      position: relative;
    }

    .identity-method input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .identity-method label {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid var(--ui-border);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all 0.2s;
    }

    .identity-method input[type="radio"]:checked + label {
      border-color: var(--text-primary);
      background: rgba(255, 255, 255, 0.05);
    }

    .identity-method label:hover {
      border-color: var(--ui-border-hover);
    }

    .method-icon {
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .method-icon svg {
      width: 24px;
      height: 24px;
      color: var(--text-primary);
    }

    .method-info strong {
      display: block;
      font-size: 16px;
      margin-bottom: 4px;
    }

    .method-info span {
      font-size: 13px;
      color: var(--text-muted);
    }

    .identity-input-area {
      background: rgba(0, 0, 0, 0.3);
      border-radius: var(--radius-sm);
      padding: 24px;
      margin-bottom: 24px;
    }

    .identity-input-area label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .identity-input-area input[type="password"],
    .identity-input-area textarea {
      width: 100%;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid var(--ui-border);
      border-radius: 12px;
      padding: 14px 16px;
      font-family: var(--font-mono);
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .identity-input-area input:focus,
    .identity-input-area textarea:focus {
      outline: none;
      border-color: var(--ui-border-hover);
    }

    .input-hint {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 20px;
    }

    .seed-actions {
      margin-bottom: 8px;
    }

    .identity-result {
      background: rgba(0, 0, 0, 0.3);
      border-radius: var(--radius-sm);
      padding: 24px;
      margin-bottom: 32px;
    }

    .identity-result h4 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
    }

    .identity-keys {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .identity-key label {
      display: block;
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .identity-key code {
      display: block;
      font-family: var(--font-mono);
      font-size: 12px;
      color: var(--text-secondary);
      background: rgba(0, 0, 0, 0.4);
      padding: 12px 16px;
      border-radius: 8px;
      word-break: break-all;
    }

    .identity-note {
      font-size: 13px;
      color: var(--text-muted);
      text-align: center;
      margin-top: 20px;
      margin-bottom: 0;
    }

    .identity-explainer {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 32px;
    }

    .identity-explainer h4 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 24px;
      text-align: center;
    }

    .derivation-diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .deriv-step {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .deriv-box {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid var(--ui-border);
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 13px;
      font-weight: 500;
      font-family: var(--font-mono);
    }

    .deriv-arrow {
      font-size: 11px;
      color: var(--text-muted);
      background: rgba(0, 0, 0, 0.3);
      padding: 4px 8px;
      border-radius: 4px;
    }

    .derivation-note {
      font-size: 13px;
      color: var(--text-muted);
      text-align: center;
      margin: 0;
    }

    @media (max-width: 734px) {
      .identity-methods {
        grid-template-columns: 1fr;
      }
      .identity-demo {
        padding: 24px;
      }
      .derivation-diagram {
        flex-direction: column;
      }
      .deriv-step {
        flex-direction: column;
      }
    }

    /* ============================================
       FAQ / ACCORDION
       ============================================ */
    .accordion {
      max-width: 800px;
      margin: 0 auto;
    }

    .accordion-item {
      border-bottom: 1px solid rgba(255, 255, 255, 0.15);
    }

    .accordion-item:first-child {
      border-top: 1px solid rgba(255, 255, 255, 0.15);
    }

    .accordion-trigger {
      width: 100%;
      background: transparent;
      border: none;
      padding: 24px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      text-align: left;
    }

    .accordion-trigger span {
      font-size: 20px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .accordion-trigger svg {
      width: 20px;
      height: 20px;
      color: var(--text-muted);
      transition: transform 0.3s ease;
      flex-shrink: 0;
    }

    .accordion-item.open .accordion-trigger svg {
      transform: rotate(180deg);
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .accordion-item.open .accordion-content {
      max-height: 400px;
    }

    .accordion-content-inner {
      padding-bottom: 24px;
      padding-right: 48px;
    }

    .accordion-content-inner p {
      font-size: 17px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* ============================================
       DOCUMENTATION SECTION
       ============================================ */
    .docs-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }

    .doc-card {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      padding: 28px;
      backdrop-filter: blur(20px);
      transition: all 0.2s;
    }

    .doc-card:hover {
      background: var(--ui-hover);
      border-color: var(--ui-border-hover);
    }

    .doc-card h3 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .doc-card h3 svg {
      width: 20px;
      height: 20px;
      color: var(--text-muted);
    }

    .doc-card p {
      font-size: 15px;
      color: var(--text-secondary);
      line-height: 1.5;
      margin-bottom: 16px;
    }

    .doc-card ul {
      list-style: none;
    }

    .doc-card li {
      font-size: 14px;
      color: var(--text-muted);
      padding: 6px 0;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    .doc-card li:first-child {
      border-top: none;
      padding-top: 0;
    }

    /* ============================================
       DOWNLOADS SECTION
       ============================================ */
    .downloads-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 48px;
    }

    .download-card {
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      padding: 28px;
      text-align: center;
      backdrop-filter: blur(20px);
    }

    .download-icon {
      width: 56px;
      height: 56px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 16px;
    }

    .download-icon svg {
      width: 28px;
      height: 28px;
      color: var(--text-primary);
    }

    .download-card h3 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .download-card > p {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 20px;
    }

    .download-links {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .download-link {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--ui-border);
      border-radius: 12px;
      font-size: 13px;
      color: var(--text-secondary);
      transition: all 0.2s;
    }

    .download-link:hover {
      background: rgba(0, 0, 0, 0.5);
      border-color: var(--ui-border-hover);
      color: var(--text-primary);
    }

    .download-link svg {
      width: 18px;
      height: 18px;
      flex-shrink: 0;
    }

    .sdk-download {
      text-align: center;
      padding: 32px;
      background: var(--ui-bg);
      border: 1px solid var(--ui-border);
      border-radius: var(--radius);
      backdrop-filter: blur(20px);
    }

    .sdk-download h3 {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .sdk-download > p {
      color: var(--text-muted);
      margin-bottom: 0;
    }

    @media (max-width: 1068px) {
      .downloads-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 734px) {
      .downloads-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ============================================
       CTA SECTION
       ============================================ */
    .cta-section {
      text-align: center;
      padding: 160px 24px;
    }

    .cta-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 48px;
    }

    /* ============================================
       FOOTER
       ============================================ */
    footer {
      padding: 48px 24px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 24px;
    }

    .footer-links {
      display: flex;
      gap: 32px;
    }

    .footer-links a {
      font-size: 14px;
      color: var(--text-muted);
      transition: color 0.2s;
    }

    .footer-links a:hover {
      color: var(--text-primary);
    }

    .footer-copyright {
      font-size: 14px;
      color: var(--text-muted);
    }

    /* ============================================
       RESPONSIVE
       ============================================ */
    @media (max-width: 1068px) {
      .hero-title { font-size: 60px; }
      .section-title { font-size: 44px; }
      .features-grid { grid-template-columns: repeat(2, 1fr); }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
      .code-grid { grid-template-columns: 1fr; }
      .vision-grid { grid-template-columns: repeat(3, 1fr); }
      .docs-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 734px) {
      .hero-title { font-size: 42px; }
      .hero-tagline { font-size: 20px; }
      .hero-subtitle { font-size: 16px; }
      .section-title { font-size: 32px; }
      .stat-number { font-size: 40px; }

      section { padding: 80px 20px; }
      .section-header { margin-bottom: 48px; }

      .nav-links { display: none; }
      .nav-cta { display: none; }
      .nav-menu-btn { display: block; }

      .features-grid { grid-template-columns: 1fr; }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
      .vision-grid { grid-template-columns: 1fr; gap: 8px; }
      .docs-grid { grid-template-columns: 1fr; }

      .hero-actions { flex-direction: column; align-items: center; }
      .btn { width: 100%; max-width: 300px; }
      .cta-buttons { flex-direction: column; align-items: center; }

      .footer-content { flex-direction: column; text-align: center; }
      .footer-links { flex-wrap: wrap; justify-content: center; }
    }

    @media (max-width: 480px) {
      .logo-text { display: none; }
      .logo { font-size: 0; }
      .logo svg { width: 28px; height: 28px; }
    }
  </style>
</head>
<body>
  <!-- Video Background -->
  <video class="page-video-bg" id="bgVideo" autoplay loop muted playsinline disablepictureinpicture></video>
  <div class="page-video-overlay"></div>

  <!-- Navigation -->
  <nav>
    <div class="nav-content">
      <a href="#" class="logo">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
        </svg>
        <span class="logo-text">Space Data Network</span>
      </a>
      <div class="nav-links">
        <a href="#features">Features</a>
        <a href="#security">Security</a>
        <a href="#identity">Identity</a>
        <a href="#docs">Docs</a>
        <a href="#downloads">Downloads</a>
        <a href="https://github.com/DigitalArsenal/go-space-data-network" target="_blank">GitHub</a>
      </div>
      <a href="#get-started" class="nav-cta">Get Started</a>
      <button class="nav-menu-btn" id="menuBtn" aria-label="Menu">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="menu-icon">
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="close-icon" style="display: none;">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <a href="#features">Features</a>
    <a href="#technology">Technology</a>
    <a href="#security">Security & Crypto</a>
    <a href="#identity">Digital Identity</a>
    <a href="#docs">Documentation</a>
    <a href="#downloads">Downloads</a>
    <a href="#faq">FAQ</a>
    <a href="https://github.com/DigitalArsenal/go-space-data-network" target="_blank">GitHub</a>
  </div>

  <!-- Hero Section -->
  <section class="hero" id="hero">
    <h1 class="hero-title">Space Data<br>Network</h1>
    <p class="hero-tagline">Open infrastructure for global collaboration on space situational awareness</p>
    <p class="hero-subtitle">Decentralized peer-to-peer data exchange built on IPFS</p>
    <div class="hero-actions">
      <a href="#get-started" class="btn btn-primary">Get Started</a>
      <a href="https://github.com/DigitalArsenal/go-space-data-network" class="btn btn-secondary" target="_blank">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        GitHub
      </a>
      <a href="#downloads" class="btn btn-secondary">Downloads</a>
    </div>
    <div class="scroll-indicator">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="6 9 12 15 18 9"/>
      </svg>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Built for the Future of Space</h2>
        <p class="section-subtitle">SDN provides open infrastructure for global space traffic coordination</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
          </div>
          <h3 class="feature-title">Built on IPFS</h3>
          <p class="feature-desc">Battle-tested libp2p networking with DHT discovery, GossipSub messaging, and circuit relay for browser connectivity.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
              <line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
          </div>
          <h3 class="feature-title">32 Space Data Standards</h3>
          <p class="feature-desc">Full support for all SDS schemas including OMM, CDM, EPM, TDM, OEM, and 27 more standard formats.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="11" width="18" height="11" rx="2"/>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
          </div>
          <h3 class="feature-title">Transport Encryption</h3>
          <p class="feature-desc">All connections secured with Noise Protocol Framework providing forward secrecy and mutual authentication.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
          </div>
          <h3 class="feature-title">Encryption at Rest</h3>
          <p class="feature-desc">WASM-powered AES-256-GCM encryption with Argon2 key derivation for password-based security.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
          </div>
          <h3 class="feature-title">Digital Identity</h3>
          <p class="feature-desc">Ed25519 cryptographic identities with vCard-style Entity Profile Manifests for verified organizational data.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2"/>
              <line x1="8" y1="21" x2="16" y2="21"/>
              <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
          </div>
          <h3 class="feature-title">Cross-Platform</h3>
          <p class="feature-desc">Run full nodes on servers, edge relays on embedded devices, or connect directly from web browsers.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section id="stats">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">32</div>
          <div class="stat-label">Space Data Standards</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">IPFS</div>
          <div class="stat-label">Built on libp2p</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">P2P</div>
          <div class="stat-label">Fully Decentralized</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">Open</div>
          <div class="stat-label">Source & Standards</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Technology Section -->
  <section id="technology">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Technology Deep Dive</h2>
        <p class="section-subtitle">Built on proven, battle-tested foundations for mission-critical reliability</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <h3 class="feature-title">IPFS Foundation</h3>
          <p class="feature-desc">Content-addressed storage ensures data integrity. Every piece of space data is cryptographically verified, making tampering impossible.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">libp2p Networking</h3>
          <p class="feature-desc">Modular peer-to-peer networking with NAT traversal, protocol multiplexing, and secure channels built-in.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">FlatBuffers Efficiency</h3>
          <p class="feature-desc">Zero-copy deserialization with Space Data Standards schemas. Parse orbital data without memory allocation overhead.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Start Section -->
  <section id="get-started">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Quick Start</h2>
        <p class="section-subtitle">Get running in minutes with the server or JavaScript SDK</p>
      </div>
      <div class="code-grid">
        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">Server (Go)</span>
            <button class="code-copy" onclick="copyCode(this)">Copy</button>
          </div>
          <pre><code><span class="code-comment"># Download and install</span>
curl -Lo spacedatanetwork \
  https://github.com/DigitalArsenal/go-space-data-network/releases/latest/download/spacedatanetwork-linux-amd64
chmod +x spacedatanetwork

<span class="code-comment"># Initialize and start</span>
./spacedatanetwork init
./spacedatanetwork daemon</code></pre>
        </div>
        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">Browser (TypeScript)</span>
            <button class="code-copy" onclick="copyCode(this)">Copy</button>
          </div>
          <pre><code><span class="code-keyword">import</span> { SDNNode } <span class="code-keyword">from</span> <span class="code-string">'@spacedatanetwork/sdn-js'</span>;

<span class="code-keyword">const</span> node = <span class="code-keyword">new</span> SDNNode();
<span class="code-keyword">await</span> node.start();

<span class="code-comment">// Subscribe to orbital data</span>
node.subscribe(<span class="code-string">'OMM'</span>, (data, peer) => {
  console.log(<span class="code-string">`Received from ${peer}`</span>);
});

<span class="code-comment">// Publish conjunction data</span>
<span class="code-keyword">await</span> node.publish(<span class="code-string">'CDM'</span>, conjunctionData);</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Use Cases Section -->
  <section id="use-cases">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Open Space Traffic Management</h2>
      </div>
      <p class="vision-intro">
        As space becomes increasingly congested, coordination is essential. SDN provides <strong>open infrastructure</strong> that enables:
      </p>
      <div class="vision-grid">
        <div class="vision-item">
          <h4>Space Agencies</h4>
          <p>Share conjunction warnings and tracking data globally</p>
        </div>
        <div class="vision-item">
          <h4>Satellite Operators</h4>
          <p>Coordinate maneuvers and publish orbital elements in real-time</p>
        </div>
        <div class="vision-item">
          <h4>STM Providers</h4>
          <p>Build services on open, verifiable data from across the ecosystem</p>
        </div>
        <div class="vision-item">
          <h4>Researchers</h4>
          <p>Access live space data for analysis and algorithm development</p>
        </div>
        <div class="vision-item">
          <h4>New Entrants</h4>
          <p>Participate without expensive proprietary integrations</p>
        </div>
      </div>
      <p class="vision-tagline">No central authority. No single point of failure. Just open collaboration.</p>
    </div>
  </section>

  <!-- Security & Cryptography Section -->
  <section id="security">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Security & Cryptography</h2>
        <p class="section-subtitle">End-to-end encryption with verifiable digital identity</p>
      </div>

      <!-- Architecture Diagram -->
      <div class="arch-diagram">
        <div class="arch-row">
          <div class="arch-box arch-app">
            <div class="arch-label">Application Layer</div>
            <div class="arch-items">Space Data Standards (32 Schemas)</div>
          </div>
        </div>
        <div class="arch-arrow">&#x25BC;</div>
        <div class="arch-row">
          <div class="arch-box arch-crypto">
            <div class="arch-label">Crypto Layer</div>
            <div class="arch-items">Ed25519 Signatures &bull; X25519 ECDH &bull; AES-256-GCM</div>
          </div>
        </div>
        <div class="arch-arrow">&#x25BC;</div>
        <div class="arch-row">
          <div class="arch-box arch-transport">
            <div class="arch-label">Transport Layer</div>
            <div class="arch-items">Noise Protocol &bull; libp2p &bull; GossipSub</div>
          </div>
        </div>
        <div class="arch-arrow">&#x25BC;</div>
        <div class="arch-row">
          <div class="arch-box arch-network">
            <div class="arch-label">Network Layer</div>
            <div class="arch-items">IPFS DHT &bull; Circuit Relay &bull; WebSocket Bridge</div>
          </div>
        </div>
      </div>

      <!-- PKI Demo Section -->
      <div class="pki-demo">
        <h3 class="pki-title">Public Key Infrastructure Demo</h3>
        <p class="pki-subtitle">See how Alice encrypts a message that only Bob can decrypt using ECIES</p>

        <div class="pki-parties">
          <div class="pki-party pki-alice">
            <div class="pki-avatar">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="8" r="4"/>
                <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
              </svg>
            </div>
            <div class="pki-name">Alice</div>
            <div class="pki-role">Sender</div>
            <div class="pki-keys">
              <div class="pki-key">
                <span class="key-type">Public:</span>
                <code id="alicePubKey">Click Generate</code>
              </div>
              <div class="pki-key">
                <span class="key-type">Private:</span>
                <code id="alicePrivKey">••••••••</code>
              </div>
            </div>
          </div>

          <div class="pki-flow">
            <div class="pki-flow-arrow">
              <svg viewBox="0 0 100 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="0" y1="12" x2="90" y2="12"/>
                <polyline points="80 6 90 12 80 18"/>
              </svg>
              <span class="pki-flow-label">Encrypted Message</span>
            </div>
          </div>

          <div class="pki-party pki-bob">
            <div class="pki-avatar">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="8" r="4"/>
                <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
              </svg>
            </div>
            <div class="pki-name">Bob</div>
            <div class="pki-role">Receiver</div>
            <div class="pki-keys">
              <div class="pki-key">
                <span class="key-type">Public:</span>
                <code id="bobPubKey">Click Generate</code>
              </div>
              <div class="pki-key">
                <span class="key-type">Private:</span>
                <code id="bobPrivKey">••••••••</code>
              </div>
            </div>
          </div>
        </div>

        <div class="pki-controls">
          <button class="btn btn-primary btn-sm" id="generateKeysBtn">Generate Keys</button>
        </div>

        <div class="pki-message-area">
          <div class="pki-input-group">
            <label for="plaintext">Message from Alice:</label>
            <textarea id="plaintext" placeholder="Enter a message to encrypt...">Hello Bob! This orbital data is classified.</textarea>
          </div>

          <div class="pki-actions">
            <button class="btn btn-primary btn-sm" id="encryptBtn" disabled>Encrypt with Bob's Public Key</button>
            <button class="btn btn-secondary btn-sm" id="decryptBtn" disabled>Decrypt with Bob's Private Key</button>
          </div>

          <div class="pki-output-group">
            <label>Ciphertext (Base64):</label>
            <div class="pki-output" id="ciphertext">Encrypted output will appear here...</div>
          </div>

          <div class="pki-output-group">
            <label>Decrypted Message:</label>
            <div class="pki-output" id="decrypted">Decrypted output will appear here...</div>
          </div>
        </div>

        <div class="ecies-explainer">
          <h4>How ECIES Works</h4>
          <div class="ecies-steps">
            <div class="ecies-step">
              <div class="step-num">1</div>
              <div class="step-text"><strong>Key Exchange:</strong> Alice generates an ephemeral X25519 key pair</div>
            </div>
            <div class="ecies-step">
              <div class="step-num">2</div>
              <div class="step-text"><strong>ECDH:</strong> Alice's ephemeral private + Bob's public = shared secret</div>
            </div>
            <div class="ecies-step">
              <div class="step-num">3</div>
              <div class="step-text"><strong>KDF:</strong> HKDF-SHA256 derives AES-256 encryption key from shared secret</div>
            </div>
            <div class="ecies-step">
              <div class="step-num">4</div>
              <div class="step-text"><strong>Encrypt:</strong> AES-256-GCM encrypts the message with authentication</div>
            </div>
            <div class="ecies-step">
              <div class="step-num">5</div>
              <div class="step-text"><strong>Send:</strong> Ephemeral public key + nonce + ciphertext + tag sent to Bob</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Identity Section -->
  <section id="identity">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Digital Identity</h2>
        <p class="section-subtitle">Create your cryptographic identity for the Space Data Network</p>
      </div>

      <div class="identity-demo">
        <div class="identity-methods">
          <div class="identity-method" id="methodPassword">
            <input type="radio" name="identityMethod" id="radioPassword" checked>
            <label for="radioPassword">
              <div class="method-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="11" width="18" height="11" rx="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
              </div>
              <div class="method-info">
                <strong>Password</strong>
                <span>Derive keys using Argon2id KDF</span>
              </div>
            </label>
          </div>

          <div class="identity-method" id="methodSeed">
            <input type="radio" name="identityMethod" id="radioSeed">
            <label for="radioSeed">
              <div class="method-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                  <path d="M2 17l10 5 10-5"/>
                  <path d="M2 12l10 5 10-5"/>
                </svg>
              </div>
              <div class="method-info">
                <strong>BIP-39 Seed Phrase</strong>
                <span>HD wallet compatible (BIP-32/44)</span>
              </div>
            </label>
          </div>
        </div>

        <div class="identity-input-area">
          <div class="identity-password-input" id="passwordInput">
            <label for="identityPassword">Password</label>
            <input type="password" id="identityPassword" placeholder="Enter a strong password...">
            <p class="input-hint">Minimum 12 characters. Keys derived using Argon2id with high memory cost.</p>
          </div>

          <div class="identity-seed-input" id="seedInput" style="display: none;">
            <label for="identitySeed">Seed Phrase (12 or 24 words)</label>
            <textarea id="identitySeed" placeholder="Enter your BIP-39 seed phrase..." rows="3"></textarea>
            <div class="seed-actions">
              <button class="btn btn-secondary btn-sm" id="generateSeedBtn">Generate New</button>
            </div>
            <p class="input-hint">Your seed phrase provides access to your identity. Never share it.</p>
          </div>

          <button class="btn btn-primary" id="deriveIdentityBtn">Derive Identity</button>
        </div>

        <div class="identity-result" id="identityResult" style="display: none;">
          <h4>Your SDN Identity</h4>
          <div class="identity-keys">
            <div class="identity-key">
              <label>Public Key (Ed25519)</label>
              <code id="identityPubKey"></code>
            </div>
            <div class="identity-key">
              <label>Peer ID (libp2p)</label>
              <code id="identityPeerId"></code>
            </div>
            <div class="identity-key">
              <label>Encryption Key (X25519)</label>
              <code id="identityEncKey"></code>
            </div>
          </div>
          <p class="identity-note">These keys are derived deterministically. The same password/seed will always produce the same identity.</p>
        </div>

        <div class="identity-explainer">
          <h4>HD Wallet Derivation</h4>
          <div class="derivation-diagram">
            <div class="deriv-step">
              <div class="deriv-box">Seed Phrase</div>
              <div class="deriv-arrow">BIP-39</div>
            </div>
            <div class="deriv-step">
              <div class="deriv-box">Master Key</div>
              <div class="deriv-arrow">BIP-32</div>
            </div>
            <div class="deriv-step">
              <div class="deriv-box">m/44'/501'/0'</div>
              <div class="deriv-arrow">Ed25519</div>
            </div>
            <div class="deriv-step">
              <div class="deriv-box">SDN Identity</div>
            </div>
          </div>
          <p class="derivation-note">SDN uses derivation path m/44'/501'/0'/0' (Solana-compatible) for Ed25519 signing keys and derives X25519 encryption keys from the same seed.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Documentation Section -->
  <section id="docs">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Documentation</h2>
        <p class="section-subtitle">Everything you need to build with SDN</p>
      </div>
      <div class="docs-grid">
        <div class="doc-card">
          <h3>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
              <polyline points="14 2 14 8 20 8"/>
            </svg>
            Getting Started
          </h3>
          <p>Quick start guides for all platforms</p>
          <ul>
            <li>Server installation</li>
            <li>JavaScript SDK setup</li>
            <li>Browser integration</li>
            <li>First data exchange</li>
          </ul>
        </div>
        <div class="doc-card">
          <h3>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2"/>
              <path d="M3 9h18M9 21V9"/>
            </svg>
            Architecture
          </h3>
          <p>Deep dive into SDN internals</p>
          <ul>
            <li>Network topology</li>
            <li>Protocol stack</li>
            <li>Data flow</li>
            <li>Security model</li>
          </ul>
        </div>
        <div class="doc-card">
          <h3>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
            Security
          </h3>
          <p>Cryptography and identity</p>
          <ul>
            <li>Transport encryption</li>
            <li>Data at rest</li>
            <li>Digital identity</li>
            <li>Key management</li>
          </ul>
        </div>
        <div class="doc-card">
          <h3>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="16 18 22 12 16 6"/>
              <polyline points="8 6 2 12 8 18"/>
            </svg>
            API Reference
          </h3>
          <p>Complete API documentation</p>
          <ul>
            <li>Server CLI</li>
            <li>JavaScript SDK</li>
            <li>HTTP endpoints</li>
            <li>RPC interface</li>
          </ul>
        </div>
        <div class="doc-card">
          <h3>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            </svg>
            Schemas
          </h3>
          <p>Space Data Standards reference</p>
          <ul>
            <li>All 32 schemas</li>
            <li>Field definitions</li>
            <li>Validation rules</li>
            <li>Conversion utilities</li>
          </ul>
        </div>
        <div class="doc-card">
          <h3>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="7" width="20" height="14" rx="2"/>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
            </svg>
            Deployment
          </h3>
          <p>Production deployment guides</p>
          <ul>
            <li>Docker / Kubernetes</li>
            <li>Cloud providers</li>
            <li>High availability</li>
            <li>Monitoring</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section id="faq">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Frequently Asked Questions</h2>
      </div>
      <div class="accordion">
        <div class="accordion-item">
          <button class="accordion-trigger">
            <span>Is SDN a blockchain?</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>No. SDN uses cryptographic primitives (Ed25519 keys, signatures) but is not a blockchain. There are no tokens, no mining, no consensus mechanisms. SDN is pure infrastructure for data exchange. Your Ed25519 identity can be derived from BIP-39 seed phrases and is compatible with blockchain ecosystems, but SDN itself operates independently.</p>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-trigger">
            <span>Why decentralized for space data?</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>Space traffic management data is too critical to depend on any single provider. Centralized systems create single points of failure and geopolitical dependencies. SDN ensures that conjunction warnings and orbital data remain available even if individual nodes or organizations go offline. The network self-heals and routes around failures.</p>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-trigger">
            <span>How does SDN compare to Space-Track?</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>Space-Track provides authoritative tracking data from the 18th Space Defense Squadron. SDN is complementary infrastructure that enables organizations to share their own data directly with each other. SDN can ingest Space-Track data and combine it with commercial, academic, and international sources for a more complete picture.</p>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-trigger">
            <span>Can browsers connect to the network?</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>Yes. SDN includes edge relays that bridge WebSocket connections to the full P2P network. The JavaScript SDK handles this automatically - just call node.start() and you're connected. Browsers can subscribe to real-time data, publish messages, and verify signatures using the WASM crypto module.</p>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-trigger">
            <span>What about data authenticity?</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>Every message on SDN is cryptographically signed by its publisher. Entity Profile Manifests (EPM) link Ed25519 public keys to organizational identities. You can verify exactly who published any piece of data and whether it has been tampered with. Trust decisions remain with recipients - SDN provides the cryptographic tools.</p>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-trigger">
            <span>What if I see data that shouldn't be here?</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>Due to the distributed nature of IPFS and libp2p, there is no central authority that can remove data from the network. Content is replicated across participating nodes and addressed by its cryptographic hash. Only the original author who holds the signing key can issue updates or retractions. This is by design - it ensures that critical space safety data cannot be censored by any single entity, but it also means participants should carefully consider what they publish. Nodes can individually choose to stop pinning or serving specific content, but this doesn't remove it from other nodes that have copies.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Downloads Section -->
  <section id="downloads">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Downloads</h2>
        <p class="section-subtitle">Get the Space Data Network server for your platform</p>
      </div>

      <div class="downloads-grid">
        <div class="download-card">
          <div class="download-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-2.54"/>
              <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-2.54"/>
            </svg>
          </div>
          <h3>macOS</h3>
          <p>Apple Silicon & Intel</p>
          <div class="download-links">
            <a href="https://github.com/DigitalArsenal/go-space-data-network/releases/latest/download/spacedatanetwork-darwin-arm64" class="download-link">
              <span>ARM64 (M1/M2/M3)</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            </a>
            <a href="https://github.com/DigitalArsenal/go-space-data-network/releases/latest/download/spacedatanetwork-darwin-amd64" class="download-link">
              <span>AMD64 (Intel)</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            </a>
          </div>
        </div>

        <div class="download-card">
          <div class="download-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="12" cy="12" r="10"/>
              <circle cx="12" cy="12" r="4"/>
              <line x1="12" y1="2" x2="12" y2="4"/>
              <line x1="12" y1="20" x2="12" y2="22"/>
              <line x1="2" y1="12" x2="4" y2="12"/>
              <line x1="20" y1="12" x2="22" y2="12"/>
            </svg>
          </div>
          <h3>Linux</h3>
          <p>x86_64 & ARM64</p>
          <div class="download-links">
            <a href="https://github.com/DigitalArsenal/go-space-data-network/releases/latest/download/spacedatanetwork-linux-amd64" class="download-link">
              <span>AMD64 (x86_64)</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            </a>
            <a href="https://github.com/DigitalArsenal/go-space-data-network/releases/latest/download/spacedatanetwork-linux-arm64" class="download-link">
              <span>ARM64</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            </a>
          </div>
        </div>

        <div class="download-card">
          <div class="download-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="2" y="3" width="20" height="14" rx="2"/>
              <line x1="8" y1="21" x2="16" y2="21"/>
              <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
          </div>
          <h3>Windows</h3>
          <p>64-bit</p>
          <div class="download-links">
            <a href="https://github.com/DigitalArsenal/go-space-data-network/releases/latest/download/spacedatanetwork-windows-amd64.exe" class="download-link">
              <span>AMD64 (64-bit)</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            </a>
          </div>
        </div>

        <div class="download-card">
          <div class="download-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="2" y="4" width="20" height="16" rx="2"/>
              <path d="M6 8h.01M10 8h.01"/>
              <path d="M6 12h12"/>
              <path d="M6 16h12"/>
            </svg>
          </div>
          <h3>Docker</h3>
          <p>Container image</p>
          <div class="download-links">
            <a href="https://github.com/DigitalArsenal/go-space-data-network/pkgs/container/spacedatanetwork" class="download-link" target="_blank">
              <span>ghcr.io/digitalarsenal/spacedatanetwork</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"/></svg>
            </a>
          </div>
        </div>
      </div>

      <div class="sdk-download">
        <h3>JavaScript SDK</h3>
        <p>Connect from Node.js or browsers</p>
        <div class="code-block" style="max-width: 500px; margin: 20px auto 0;">
          <div class="code-header">
            <span class="code-lang">Terminal</span>
            <button class="code-copy" onclick="copyCode(this)">Copy</button>
          </div>
          <pre><code>npm install @spacedatanetwork/sdn-js</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <h2 class="section-title">Ready to Get Started?</h2>
      <p class="section-subtitle">Join the open network for space data exchange</p>
      <div class="cta-buttons">
        <a href="https://github.com/DigitalArsenal/go-space-data-network" class="btn btn-primary" target="_blank">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          View on GitHub
        </a>
        <a href="#docs" class="btn btn-secondary">Read Documentation</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-links">
        <a href="https://github.com/DigitalArsenal/go-space-data-network" target="_blank">GitHub</a>
        <a href="https://www.npmjs.com/package/@spacedatanetwork/sdn-js" target="_blank">npm</a>
        <a href="https://spacedatastandards.org" target="_blank">Space Data Standards</a>
        <a href="#faq">FAQ</a>
      </div>
      <p class="footer-copyright">Released under the MIT License. &copy; 2024 Digital Arsenal / Space Data Standards</p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // Video URLs
    const videoUrls = [
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/90bb1b34646b81b3b63e5a854ea00da3/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/df176a2fb2ea2b64bd21ae1c10d3af6a/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/12a9780eeb1ea015801a5f55cf2e9d3d/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/964cb3eddff1a67e3772aac9a7aceea2/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/dd17599dfa77f41517133fa7a4967535/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/408ad52e3f15bc8f01ae69d194a8cf3a/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/e923e67d71fed3e0853ec57f0348451e/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/136a8a211c6c3b1cc1fd7b1c7d836c58/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/c9ddd33ac3d964e5d33b31ce849e8f95/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/257c7359efd4b4aaebcc03aa8fc78a36/manifest/video.m3u8',
      'https://customer-cbeadsgr09pnsezs.cloudflarestream.com/697945ca6b876878dba3b23fbd2f1561/manifest/video.m3u8'
    ];

    // Initialize background video
    function initVideo() {
      const video = document.getElementById('bgVideo');
      const randomUrl = videoUrls[Math.floor(Math.random() * videoUrls.length)];

      if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = randomUrl;
        video.addEventListener('loadeddata', () => video.classList.add('loaded'));
      } else if (Hls.isSupported()) {
        const hls = new Hls({ enableWorker: true, lowLatencyMode: false });
        hls.loadSource(randomUrl);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, () => {
          video.classList.add('loaded');
          video.play().catch(() => {});
        });
      }
    }

    // Accordion
    function initAccordion() {
      document.querySelectorAll('.accordion-trigger').forEach(trigger => {
        trigger.addEventListener('click', () => {
          const item = trigger.parentElement;
          const isOpen = item.classList.contains('open');
          document.querySelectorAll('.accordion-item').forEach(i => i.classList.remove('open'));
          if (!isOpen) item.classList.add('open');
        });
      });
    }

    // Mobile Menu
    function initMobileMenu() {
      const menuBtn = document.getElementById('menuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      const menuIcon = menuBtn.querySelector('.menu-icon');
      const closeIcon = menuBtn.querySelector('.close-icon');

      menuBtn.addEventListener('click', () => {
        const isOpen = mobileMenu.classList.toggle('open');
        menuIcon.style.display = isOpen ? 'none' : 'block';
        closeIcon.style.display = isOpen ? 'block' : 'none';
      });

      // Close menu when clicking a link
      mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.remove('open');
          menuIcon.style.display = 'block';
          closeIcon.style.display = 'none';
        });
      });
    }

    // PKI Demo - Simulated ECIES using Web Crypto API
    let aliceKeyPair = null;
    let bobKeyPair = null;
    let lastCiphertext = null;
    let lastEphemeralPub = null;
    let lastNonce = null;

    async function generateKeyPair() {
      const keyPair = await window.crypto.subtle.generateKey(
        { name: 'ECDH', namedCurve: 'P-256' },
        true,
        ['deriveBits']
      );
      const publicKeyBuffer = await window.crypto.subtle.exportKey('raw', keyPair.publicKey);
      const privateKeyBuffer = await window.crypto.subtle.exportKey('pkcs8', keyPair.privateKey);
      return {
        publicKey: keyPair.publicKey,
        privateKey: keyPair.privateKey,
        publicKeyHex: bufferToHex(publicKeyBuffer).slice(0, 32) + '...',
        privateKeyHex: '••••••••••••••••'
      };
    }

    function bufferToHex(buffer) {
      return Array.from(new Uint8Array(buffer)).map(b => b.toString(16).padStart(2, '0')).join('');
    }

    function hexToBuffer(hex) {
      const bytes = new Uint8Array(hex.length / 2);
      for (let i = 0; i < bytes.length; i++) {
        bytes[i] = parseInt(hex.substr(i * 2, 2), 16);
      }
      return bytes;
    }

    async function deriveSharedSecret(privateKey, publicKey) {
      const bits = await window.crypto.subtle.deriveBits(
        { name: 'ECDH', public: publicKey },
        privateKey,
        256
      );
      return await window.crypto.subtle.importKey(
        'raw',
        bits,
        { name: 'AES-GCM', length: 256 },
        false,
        ['encrypt', 'decrypt']
      );
    }

    async function encryptMessage(message, recipientPublicKey) {
      // Generate ephemeral key pair (Alice's side)
      const ephemeralKeyPair = await window.crypto.subtle.generateKey(
        { name: 'ECDH', namedCurve: 'P-256' },
        true,
        ['deriveBits']
      );

      // Derive shared secret
      const aesKey = await deriveSharedSecret(ephemeralKeyPair.privateKey, recipientPublicKey);

      // Generate nonce
      const nonce = window.crypto.getRandomValues(new Uint8Array(12));

      // Encrypt
      const encoder = new TextEncoder();
      const ciphertext = await window.crypto.subtle.encrypt(
        { name: 'AES-GCM', iv: nonce },
        aesKey,
        encoder.encode(message)
      );

      // Export ephemeral public key
      const ephemeralPub = await window.crypto.subtle.exportKey('raw', ephemeralKeyPair.publicKey);

      return {
        ephemeralPublicKey: new Uint8Array(ephemeralPub),
        nonce: nonce,
        ciphertext: new Uint8Array(ciphertext)
      };
    }

    async function decryptMessage(ephemeralPublicKeyBytes, nonce, ciphertext, recipientPrivateKey) {
      // Import ephemeral public key
      const ephemeralPublicKey = await window.crypto.subtle.importKey(
        'raw',
        ephemeralPublicKeyBytes,
        { name: 'ECDH', namedCurve: 'P-256' },
        false,
        []
      );

      // Derive shared secret
      const aesKey = await deriveSharedSecret(recipientPrivateKey, ephemeralPublicKey);

      // Decrypt
      const plaintext = await window.crypto.subtle.decrypt(
        { name: 'AES-GCM', iv: nonce },
        aesKey,
        ciphertext
      );

      const decoder = new TextDecoder();
      return decoder.decode(plaintext);
    }

    function initPKIDemo() {
      const generateBtn = document.getElementById('generateKeysBtn');
      const encryptBtn = document.getElementById('encryptBtn');
      const decryptBtn = document.getElementById('decryptBtn');
      const plaintext = document.getElementById('plaintext');
      const ciphertextEl = document.getElementById('ciphertext');
      const decryptedEl = document.getElementById('decrypted');

      generateBtn.addEventListener('click', async () => {
        generateBtn.textContent = 'Generating...';
        generateBtn.disabled = true;

        try {
          aliceKeyPair = await generateKeyPair();
          bobKeyPair = await generateKeyPair();

          document.getElementById('alicePubKey').textContent = aliceKeyPair.publicKeyHex;
          document.getElementById('alicePrivKey').textContent = aliceKeyPair.privateKeyHex;
          document.getElementById('bobPubKey').textContent = bobKeyPair.publicKeyHex;
          document.getElementById('bobPrivKey').textContent = bobKeyPair.privateKeyHex;

          encryptBtn.disabled = false;
          generateBtn.textContent = 'Regenerate Keys';
        } catch (e) {
          console.error(e);
          generateBtn.textContent = 'Error - Try Again';
        }
        generateBtn.disabled = false;
      });

      encryptBtn.addEventListener('click', async () => {
        if (!bobKeyPair) return;

        encryptBtn.textContent = 'Encrypting...';
        encryptBtn.disabled = true;

        try {
          const result = await encryptMessage(plaintext.value, bobKeyPair.publicKey);
          lastEphemeralPub = result.ephemeralPublicKey;
          lastNonce = result.nonce;
          lastCiphertext = result.ciphertext;

          // Combine all parts for display
          const combined = new Uint8Array(lastEphemeralPub.length + lastNonce.length + lastCiphertext.length);
          combined.set(lastEphemeralPub, 0);
          combined.set(lastNonce, lastEphemeralPub.length);
          combined.set(lastCiphertext, lastEphemeralPub.length + lastNonce.length);

          ciphertextEl.textContent = btoa(String.fromCharCode(...combined));
          ciphertextEl.style.color = 'var(--text-secondary)';
          decryptedEl.textContent = 'Click decrypt to reveal...';
          decryptedEl.style.color = 'var(--text-muted)';
          decryptBtn.disabled = false;
        } catch (e) {
          console.error(e);
          ciphertextEl.textContent = 'Encryption failed: ' + e.message;
        }

        encryptBtn.textContent = 'Encrypt with Bob\'s Public Key';
        encryptBtn.disabled = false;
      });

      decryptBtn.addEventListener('click', async () => {
        if (!bobKeyPair || !lastCiphertext) return;

        decryptBtn.textContent = 'Decrypting...';
        decryptBtn.disabled = true;

        try {
          const decrypted = await decryptMessage(lastEphemeralPub, lastNonce, lastCiphertext, bobKeyPair.privateKey);
          decryptedEl.textContent = decrypted;
          decryptedEl.style.color = 'var(--text-primary)';
        } catch (e) {
          console.error(e);
          decryptedEl.textContent = 'Decryption failed: ' + e.message;
        }

        decryptBtn.textContent = 'Decrypt with Bob\'s Private Key';
        decryptBtn.disabled = false;
      });
    }

    // Copy code
    function copyCode(button) {
      const code = button.closest('.code-block').querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        const orig = button.textContent;
        button.textContent = 'Copied!';
        setTimeout(() => button.textContent = orig, 2000);
      });
    }

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          const offset = 44;
          window.scrollTo({ top: target.offsetTop - offset, behavior: 'smooth' });
        }
      });
    });

    // Identity Demo
    const BIP39_WORDLIST = [
      'abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse',
      'access', 'accident', 'account', 'accuse', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act',
      'action', 'actor', 'actress', 'actual', 'adapt', 'add', 'addict', 'address', 'adjust', 'admit',
      'adult', 'advance', 'advice', 'aerobic', 'affair', 'afford', 'afraid', 'again', 'age', 'agent',
      'agree', 'ahead', 'aim', 'air', 'airport', 'aisle', 'alarm', 'album', 'alcohol', 'alert',
      'alien', 'all', 'alley', 'allow', 'almost', 'alone', 'alpha', 'already', 'also', 'alter',
      'always', 'amateur', 'amazing', 'among', 'amount', 'amused', 'analyst', 'anchor', 'ancient', 'anger',
      'angle', 'angry', 'animal', 'ankle', 'announce', 'annual', 'another', 'answer', 'antenna', 'antique',
      'anxiety', 'any', 'apart', 'apology', 'appear', 'apple', 'approve', 'april', 'arch', 'arctic',
      'area', 'arena', 'argue', 'arm', 'armed', 'armor', 'army', 'around', 'arrange', 'arrest',
      'arrive', 'arrow', 'art', 'artefact', 'artist', 'artwork', 'ask', 'aspect', 'assault', 'asset',
      'assist', 'assume', 'asthma', 'athlete', 'atom', 'attack', 'attend', 'attitude', 'attract', 'auction'
    ];

    function generateMnemonic(wordCount = 12) {
      const words = [];
      const array = new Uint32Array(wordCount);
      crypto.getRandomValues(array);
      for (let i = 0; i < wordCount; i++) {
        words.push(BIP39_WORDLIST[array[i] % BIP39_WORDLIST.length]);
      }
      return words.join(' ');
    }

    async function deriveKeyFromPassword(password) {
      const encoder = new TextEncoder();
      const salt = encoder.encode('SDN-Identity-Salt-v1');
      const keyMaterial = await crypto.subtle.importKey(
        'raw',
        encoder.encode(password),
        'PBKDF2',
        false,
        ['deriveBits']
      );
      const bits = await crypto.subtle.deriveBits(
        { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
        keyMaterial,
        256
      );
      return new Uint8Array(bits);
    }

    async function deriveKeyFromSeed(seedPhrase) {
      const encoder = new TextEncoder();
      const salt = encoder.encode('mnemonic');
      const keyMaterial = await crypto.subtle.importKey(
        'raw',
        encoder.encode(seedPhrase.trim().toLowerCase()),
        'PBKDF2',
        false,
        ['deriveBits']
      );
      const bits = await crypto.subtle.deriveBits(
        { name: 'PBKDF2', salt, iterations: 2048, hash: 'SHA-512' },
        keyMaterial,
        512
      );
      return new Uint8Array(bits).slice(0, 32);
    }

    function initIdentityDemo() {
      const radioPassword = document.getElementById('radioPassword');
      const radioSeed = document.getElementById('radioSeed');
      const passwordInput = document.getElementById('passwordInput');
      const seedInput = document.getElementById('seedInput');
      const generateSeedBtn = document.getElementById('generateSeedBtn');
      const deriveBtn = document.getElementById('deriveIdentityBtn');
      const resultDiv = document.getElementById('identityResult');

      radioPassword.addEventListener('change', () => {
        passwordInput.style.display = 'block';
        seedInput.style.display = 'none';
      });

      radioSeed.addEventListener('change', () => {
        passwordInput.style.display = 'none';
        seedInput.style.display = 'block';
      });

      generateSeedBtn.addEventListener('click', () => {
        document.getElementById('identitySeed').value = generateMnemonic(12);
      });

      deriveBtn.addEventListener('click', async () => {
        deriveBtn.textContent = 'Deriving...';
        deriveBtn.disabled = true;

        try {
          let keyBytes;
          if (radioPassword.checked) {
            const password = document.getElementById('identityPassword').value;
            if (password.length < 12) {
              alert('Password must be at least 12 characters');
              throw new Error('Password too short');
            }
            keyBytes = await deriveKeyFromPassword(password);
          } else {
            const seed = document.getElementById('identitySeed').value;
            if (seed.split(/\s+/).filter(w => w).length < 12) {
              alert('Seed phrase must have at least 12 words');
              throw new Error('Seed phrase too short');
            }
            keyBytes = await deriveKeyFromSeed(seed);
          }

          // Generate display values (simulated Ed25519 public key format)
          const pubKeyHex = bufferToHex(keyBytes);
          const peerId = '12D3KooW' + pubKeyHex.slice(0, 44);

          // Derive encryption key (different derivation for X25519)
          const encKeyMaterial = await crypto.subtle.importKey('raw', keyBytes, 'PBKDF2', false, ['deriveBits']);
          const encBits = await crypto.subtle.deriveBits(
            { name: 'PBKDF2', salt: new TextEncoder().encode('x25519'), iterations: 1, hash: 'SHA-256' },
            encKeyMaterial,
            256
          );
          const encKeyHex = bufferToHex(new Uint8Array(encBits));

          document.getElementById('identityPubKey').textContent = pubKeyHex;
          document.getElementById('identityPeerId').textContent = peerId;
          document.getElementById('identityEncKey').textContent = encKeyHex;
          resultDiv.style.display = 'block';
        } catch (e) {
          console.error(e);
        }

        deriveBtn.textContent = 'Derive Identity';
        deriveBtn.disabled = false;
      });
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      initVideo();
      initAccordion();
      initMobileMenu();
      initPKIDemo();
      initIdentityDemo();
    });
  </script>
</body>
</html>
